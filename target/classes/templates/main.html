<html lang="en" xmlns:th="http://www.thymeleaf.org">

    <link rel="stylesheet" th:href="@{../layer/css/layui.css}"/>
    <link rel="stylesheet" th:href="@{../editormd/css/editormd.css}"/>
    <link rel="stylesheet" th:href="@{../tagsinput/jquery.tagsinput.css}">
    <link rel="stylesheet" th:href="@{../jqueryui/jquery-ui.css.css}">
    <script th:src="@{../jquery-1.9.1.min.js}"></script>
    <script th:src="@{../tagsinput/jquery.tagsinput.js}"></script>
    <script th:src="@{../jqueryui/jquery-ui.min.js}"></script>
    <script th:src="@{../layer/layui.js}"></script>
    <script th:src="@{../editormd/editormd.js}"></script>
    <script>
    layui.use(['laytpl','util'], function() {
        var laytpl = layui.laytpl
            ,util = layui.util;
        util.fixbar({
            bar1: false
            ,click: function(type){
                console.log(type);
                var timer = null;
                if(type === 'top'){
                    var scrollToTop = window.setInterval(function() {
                        var pos = window.pageYOffset;
                        if ( pos > 0 ) {
                            window.scrollTo( 0, pos - 20 ); // how far to scroll on each step
                        } else {
                            window.clearInterval( scrollToTop );
                        }
                    }, 16);
                    //window.scrollBy(0,-10);scrolldelay=setTimeout(this,1000);
                    // if(document.documentElement.scrollTop==0)clearTimeout(scrolldelay);
                    /* cancelAnimationFrame(timer);
                     timer = requestAnimationFrame(function fn(){
                         var oTop = document.body.scrollTop || document.documentElement.scrollTop;
                         if(oTop > 0){
                             scrollBy(0,-50);
                             timer = requestAnimationFrame(fn);
                         }else{
                             cancelAnimationFrame(timer);
                         }
                     });*/
                }
            }
        });
        laytpl.toDateString = function (d, format) {
            var date = new Date(d || new Date())
                , ymd = [
                this.digit(date.getFullYear(), 4)
                , this.digit(date.getMonth() + 1)
                , this.digit(date.getDate())
            ]
                , hms = [
                this.digit(date.getHours())
                , this.digit(date.getMinutes())
                , this.digit(date.getSeconds())
            ];

            format = format || 'yyyy-MM-dd HH:mm:ss';

            return format.replace(/yyyy/g, ymd[0])
                .replace(/MM/g, ymd[1])
                .replace(/dd/g, ymd[2])
                .replace(/HH/g, hms[0])
                .replace(/mm/g, hms[1])
                .replace(/ss/g, hms[2]);
        };
        laytpl.digit = function(num, dlen, end){
            return (num*1>9) ? num :  ('0' + num) ;
        };
    });
</script>
</html>